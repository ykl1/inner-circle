@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* === FOUNDATION === */
  --color-bg-base: #0D1B2A;
  --color-bg-card: #152238;
  --color-bg-card-dark: #0E1620;
  --color-bg-overlay: #0D1B2A99;

  /* === TEXT === */
  --color-text-primary: #F0EBE3;
  --color-text-secondary: #F0EBE399;
  --color-text-disabled: #3D5166;

  /* === BRAND === */
  --color-brand: #9B6FD4;
  --color-brand-dim: #9B6FD420;
  --color-brand-press: #7B5EA7;

  /* === SELF-POSITIONING === */
  --color-dial-left: #E8A24A;
  --color-dial-right: #4ABFB5;
  --color-dial-thumb: #F0EBE3;

  /* === SABOTAGE === */
  --color-sab-left: #8B1A1A;
  --color-sab-right: #C44B1A;
  --color-sab-thumb: #2A0A0A;
  --color-sab-delta: #FF6B6B;
  --color-sab-vignette: #3D000008;
  --color-sab-dot-active: #C44B1A;
  --color-sab-dot-spent: #2A1A1A;
  --color-sab-border: rgba(139, 26, 26, 0.2);

  /* === STATES === */
  --color-winner: #D4A843;
  --color-untouched: #4ABFB5;
  --color-damaged: #C44B1A;
  --color-border-subtle: #FFFFFF08;
  --color-border-active: #9B6FD440;

  /* === UTILITY === */
  --color-muted: #3D5166;
  --color-success: #4ABFB5;

  /* === SPACING (8px grid) === */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;
  --space-3xl: 64px;

  /* === TYPOGRAPHY === */
  --font-display: 'Cormorant Garamond', serif;
  --font-body: 'DM Sans', sans-serif;
  --font-mono: 'DM Mono', monospace;
}

@layer base {
  body {
    background: var(--color-bg-base);
    color: var(--color-text-primary);
    font-family: var(--font-body);
    font-size: 14px;
    line-height: 1.6;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Type scale */
.text-display {
  font-family: var(--font-display);
  font-weight: 600;
  font-size: 32px;
  line-height: 1.2;
}

.text-title {
  font-family: var(--font-display);
  font-weight: 500;
  font-size: 24px;
  line-height: 1.3;
}

.text-label {
  font-family: var(--font-body);
  font-weight: 500;
  font-size: 15px;
  line-height: 1.4;
  letter-spacing: 0.02em;
}

.text-body {
  font-family: var(--font-body);
  font-weight: 400;
  font-size: 14px;
  line-height: 1.6;
}

.text-caption {
  font-family: var(--font-body);
  font-weight: 400;
  font-size: 12px;
  line-height: 1.5;
  color: var(--color-text-secondary);
}

.text-mono {
  font-family: var(--font-mono);
  font-weight: 400;
  font-size: 13px;
  line-height: 1.4;
}

@layer components {
  .btn {
    height: 52px;
    border-radius: 26px;
    font-family: var(--font-body);
    font-weight: 500;
    font-size: 15px;
    letter-spacing: 0.02em;
    padding: 0 var(--space-xl);
    transition: background 80ms ease, transform 80ms ease;
    cursor: pointer;
    border: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .btn:active:not(:disabled) {
    transform: scale(0.98);
  }

  .btn-primary {
    background: var(--color-brand);
    color: #FFFFFF;
  }

  .btn-primary:hover:not(:disabled) {
    background: var(--color-brand-press);
  }

  .btn-primary:disabled {
    background: var(--color-muted);
    color: var(--color-text-disabled);
    cursor: not-allowed;
  }

  .btn-primary.btn-just-enabled {
    animation: btn-pulse 300ms ease-out;
  }

  @keyframes btn-pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
  }

  .btn-secondary {
    background: transparent;
    border: 1.5px solid var(--color-brand);
    color: var(--color-brand);
  }

  .btn-secondary:hover:not(:disabled) {
    background: var(--color-brand-dim);
  }

  .btn-danger {
    background: var(--color-sab-right);
    color: #FFFFFF;
  }

  .btn-danger:hover:not(:disabled) {
    filter: brightness(1.1);
  }

  .btn-danger:disabled {
    background: var(--color-sab-dot-spent);
    color: var(--color-text-disabled);
    cursor: not-allowed;
  }

  .btn-success {
    background: var(--color-success);
    color: var(--color-bg-base);
  }

  .btn-success:hover:not(:disabled) {
    filter: brightness(1.08);
  }

  .btn-success:disabled {
    background: var(--color-muted);
    color: var(--color-text-disabled);
    cursor: not-allowed;
  }

  .card {
    background: var(--color-bg-card);
    border-radius: 12px;
    border: 1px solid var(--color-border-subtle);
    padding: var(--space-lg);
    box-shadow: 0px 4px 24px rgba(0, 0, 0, 0.4);
  }

  .card-no-shadow {
    background: var(--color-bg-card);
    border-radius: 12px;
    border: 1px solid var(--color-border-subtle);
    padding: var(--space-lg);
  }

  .card-dark {
    background: var(--color-bg-card-dark);
    border-radius: 12px;
    border: 1px solid var(--color-sab-border);
    padding: var(--space-lg);
  }

  .input {
    width: 100%;
    padding: var(--space-md);
    background: var(--color-bg-card);
    border: 1px solid var(--color-border-subtle);
    border-radius: 12px;
    color: var(--color-text-primary);
    font-family: var(--font-body);
    font-size: 14px;
  }

  .input:focus {
    outline: none;
    border-color: var(--color-brand);
    box-shadow: 0 0 0 2px var(--color-brand-dim);
  }
}
